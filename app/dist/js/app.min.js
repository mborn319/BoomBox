function Song(a){var b=this,c=a.querySelector(".fa");return this.play=function(b){a.classList.add("active"),c.classList.remove("fa-play"),c.classList.add("fa-pause")},this.pause=function(b){a.classList.remove("active"),c.classList.add("fa-play"),c.classList.remove("fa-pause")},this.toggle=function(c){a.classList.contains("active")?b.pause(c):b.play(c)},this}var Api=function(){this.songs={},this.albums={},this.artists={},this.songs.get=function(a){var b=a,c=function(a){console.log("Ajax response:",a)};lib.ajax("track",b,c,"GET")},this.songs.insert=function(a){}},api=new Api,Lib=function(){var a=function(a){var b=document.createElement("div");return b.innerHTML=a,b.children},b=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},c=function(a,b,c,d){var e,f="",g=d?d:"GET";b=b?b:{},a||console.warn("Ajax endpoint is required."),c||console.warn("Ajax callback is required.");var h=function(a){c(b,a.target)},i=function(a){var b="",c=parseInt(1e3*Math.random()),d="---"+c;for(var e in a)b+='\r\nContent-Disposition: form-data; name="'+e,b+=a[e],b+="\r\n"+d;return b+="---",console.log("Ajax form data:",b),b},j=new XMLHttpRequest;j.responseType="json",j.addEventListener("load",h),j.open(g,"/api/v1/"+a),"POST"===g&&(j.setRequestHeader("Content-Type","multipart/form-data; boundary="+e),f=i()),j.send(f)};return{serialize:b,ajax:c,toDom:a}};lib=Lib();var settingsBtn=document.getElementById("btnSettings"),searchBtn=document.getElementById("btnSearch"),dataBox=document.getElementById("app-data"),songTemplate='<div class="list-item"><div class="media"><img src="http://placebacon.net/75/75" alt="Song image" /></div><h4 class="title">Jailhouse Rock</h4><div class="song-controls"><button class="song play"><span class="fa fa-play"></button></div></div>';songTemplate+=songTemplate+songTemplate+songTemplate;var songList=Array.prototype.slice.call(lib.toDom(songTemplate)),appendSong=function(a){dataBox.appendChild(a)};songList.forEach(appendSong);var openSettings=function(){document.getElementById("app-settings").classList.toggle("open")};settingsBtn.addEventListener("click",openSettings);for(var songList=dataBox.querySelectorAll(".song"),i=0;i<songList.length;i++){var curSong=new Song(songList[i]);songList[i].addEventListener("click",curSong.toggle),console.log(curSong)}console.log("This should be an API() object, with a songs.get() method.",api);