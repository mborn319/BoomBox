function Song(a){var b=this,c=a.querySelector(".fa");return this.play=function(b){a.classList.add("active"),c.classList.remove("fa-play"),c.classList.add("fa-pause")},this.pause=function(b){a.classList.remove("active"),c.classList.add("fa-play"),c.classList.remove("fa-pause")},this.toggle=function(c){a.classList.contains("active")?b.pause(c):b.play(c)},this}var Api=function(){this.songs={},this.albums={},this.artists={},this.songs.get=function(a,b){var c=a;lib.ajax("/api/v1/track",c,b,"GET")},this.songs.insert=function(a){}},api=new Api,Lib=function(){var a=function(a,b){var c=a;for(var d in b){var e=new RegExp("{"+d+"}","ig");c=c.replace(e,b[d])}return c},b=function(a){var b=document.createElement("div");return b.innerHTML=a,b.childNodes},c=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},d=function(a,b,c,d){var e,f="",g=d?d:"GET";b=b?b:{},a||console.warn("lib.js/ajax(): Url is required."),c||console.warn("lib.js/ajax(): Callback is required.");var h=function(a){c(a.target.response,a.target)},i=function(a){var b="",c=parseInt(1e3*Math.random()),d="---"+c;for(var e in a)b+='\r\nContent-Disposition: form-data; name="'+e,b+=a[e],b+="\r\n"+d;return b+="---",console.log("lib.js/ajax(): form data:",b),b},j=new XMLHttpRequest;j.responseType="json",j.addEventListener("load",h),j.open(g,a),"POST"===g&&(j.setRequestHeader("Content-Type","multipart/form-data; boundary="+e),f=i()),j.send(f)};return{serialize:c,ajax:d,toDom:b,template:a}};lib=Lib(),templates={},templates.song='<div class="list-item" id="{_id}"><div class="media"><img src="{imgsrc}" alt="{name}" /></div><h4 class="title">{name}</h4><div class="song-controls"><button class="song play"><span class="fa fa-play"></button></div></div>';var settingsBtn=document.getElementById("btnSettings"),searchBtn=document.getElementById("btnSearch"),dataBox=document.getElementById("app-data"),openSettings=function(){document.getElementById("app-settings").classList.toggle("open")};settingsBtn.addEventListener("click",openSettings),api.songs.get({},function(a){for(var b="",c=0;c<a.length;c++)b+=lib.template(templates.song,a[c]);console.log(lib.toDom(b)),document.getElementById("app-data").appendChild(lib.toDom(b)[0].parentNode)});